---
title: 项目开发思考过程
date: 2019/3/3
categories:
  - 项目开发
  - IOT
tags:
  - 项目开发思考过程
copyright: true
---

## 文件与变量命名中的可数名词全部用单数形式，除非前面给出了具体数量的描述；
    
## API 参数
    1. 排序 ?ordering=<parm> 正序 ?ordering=-<parm> 倒序
    2. 已读 ?not_read=False 未读 ?not_read=True
    3. 已删除 ?not_delete=False 未删除 ?not_delete=True
    4. 分页  页码?page=<number> 页面容量 ?page_size=<number>

## 自定义异常代码

| 代码 | 异常信息 |
| --- | --- |
| 100X | token 异常 |
| 1001 | token解析失败 |
| 1002 | token 失效 |
| 1003 | token 失活 |
| 1004 | token 格式错误 |
| 101x | user 异常 |
| 1011 | user 不存在|
| 1012 | user 未激活 |
| 1013 | 无效登录 ID |
| 200X | 参数错误 |
| 2001 | 必须参数 不存在 |
| 3XXX |  |
| 4XXX |  |
| 5XXX |  |
| 6XXX |  |
| 7XXX |  |
| 8XXX |  |
| 9XXX |  |
| 0 | 未知异常 |
| 9  | 服务器异常 |

## 如何确定首页地图中心位置？
1. 以车辆列表中第一辆车所在位置为中心
2. 以当前位置为中心

## 前端api方法命名规范：

| API | 作用 | API函数命名 | Store调用函数命名 |
| --- | --- | --- | --- |
| GET \<name\> | 获取全部\<name\> | getName | getNameList |
| GET \<name\>/\<pk\> | 获取制定id的\<name\> | getTheName | getTheName |
| PUT \<name\>/read | 针对可读类型资源，标记全部未读资源为已读状态 | updateName | markNameRead |
| POST \<name\> | 新增一个\<name\>信息 | createName | addName  |

## IMEI码格式

15位随机数字

## 不考虑非正常操作错误的提醒和兼容

## 设计时尽可能减少前端 HTTP 请求

1. 数据处理尽可能在服务端完成并对需要频繁处理的热数据进行缓存处理

## 前端如何处理 500 另如何处理 options 请求无响应

添加前端响应拦截器，判断如果是服务器500错误则提醒服务器错误
直接打算在响应拦截器做全部的异常处理了

## 比较完美的解决定时获取数据刷新页面

使用 setInterval 并获取 id 保存到 vuex 的 intervalIdList 中

vuex 中写一个 removeInterval 方法用来清楚 interval

在 router.beforeEach 方法下调用 removeInterval

参考：[vue项目中定时器的管理][1]

## 如何确定设备和车辆的连接「未解决」
车和设备连接之后如何对接，如何确定此设备指向此车

## 车辆轨迹用户操作模式

目的：确定最终的查询车辆列表

方案一：
1. 先确定是看一辆车还是多辆车
    1.1 一辆车
    1. 通过驾驶员，车牌，类型，等等筛选车辆
    1.2 多辆车是自己选还是看车队

##  错误代码分级以及提示方式

邮件
颜色预警

## 设备管理{feizhongdian}

手机号管理，话费-流量费

## 轨迹播放过程中显示当前的详细信息「待完成」

## 横纵向的数据对比「待完成」

## 单车实时监测时，显示地图，各个数据的折线图「待完成」

## 2019.3.23 加入敏捷开发思想

1. 忽略权限管理「非当前首要目标」
2. 忽略异常处理「非当前首要目标」
3. 保留接口「以便之后重构」「意义不大，有必要则为止」
4. 忽略CSS命名规范

## 用设备ID作为车辆的唯一ID是正确的吗？

毕竟这是设备的ID

## 不要局限于框架可以自己添加拓展功能

[1]: https://www.cnblogs.com/pengzhixin/p/7597913.html